# parser_apt
1. Создать виртуальное окружение `python3 -m venv /path/to/project`
2. Активация `source venv/bin/activate`
3. Установить зависимости `pip install -r requirements.txt` 
4. Запуск парсера papteki.ru `python main.py papteki`
Результат сохраняется в виде файла с именем `Papteki.xlsx` 
5. Запуск парсера aloeapteka.ru `python main.py aloeapteka`
Конфигурация городов расположено в файле `config.py`
Результат сохраняется в виде файлов c именем `Aloeapteka_{city_name}.xlsx`. 
Количество файлов зависит от количества городов указанных в конфигурации.
6. Запуск парсера 24lek.ru `python main.py lek {city_code} --pharmacies="[{массив названий аптек}]"`. 
Пример: `python main.py lek 0 --pharmacies="['Аптека «Нейрон»', 'Аптека «Аптека СуперФарма»', 'Аптека «Адонис»']"`
Коды доступных городов собраны в файле `lek/config.py`
При передаче пустого массива с названиями аптек `--pharmacies="[]"` в итоговый файл попадут все найденные аптеки.
Результат сохраняется в виде файлов c именем `lek_{city_name}.xlsx`. 
Для работы парсера необходимо заполнить массив названиями препаратов в файле `lek/preparats.json`.
Парсер собирает данный о всех аптеках. В случае повторного выполнения команды пользователю будет предложено 
взять данные из ранее загруженных `Найдены ранее полученные данные. Взять данные из них?(да/нет) по умолчанию (нет):`
7. Запуск парсера lekopttorg.ru `python main.py lekopttorg`
Результат сохраняется в виде файла с именем `ЛекОптТорг.xlsx`
8. Запуск парсера lekopttorg.ru `python main.py aptekanevis`
Результат сохраняется в виде файла с именем `Невис.xlsx`
9. Запуск парсера lekopttorg.ru `python main.py acmespb`
Результат сохраняется в виде файла с именем `Экми.xlsx`
Для парсинга препаратов их названия необходимо предварительно добавить в список `NAME_OF_DRUGS` 
расположенный в `acmespb/config.py` названия препаратов должны быть не полными (можно без последних букв)
10. Объединение файлов и отправка на email. `python main.py concat-and-send-mail` настройки находятся в
`util/config.py` 